/******************************************************************************
 * DO NOT EDIT!
 * AUTOMATICALLY GENERATED BY:..ASCET-DEVELOPER V7.7.0
 * CODE GENERATOR:..............V7.7.0
 * COMPONENT:...................Driver.CruiseSpeedControl
 * REPRESENTATION:..............Automatic
 * DESCRIPTION:
 *    
 ******************************************************************************/



/*-----------------------------------------------------------------------------
 *    Include files
 *----------------------------------------------------------------------------*/

#include "Driver_CruiseSpeedControl_Automatic.h"
#include "ESDL_Linear_Interpolation.h"


/******************************************************************************
 * BEGIN: DEFINITION OF SUBSTRUCT VARIABLE 'Driver_CruiseSpeedControl_CAL_MEM'
 * ----------------------------------------------------------------------------
 * memory class:.................................'CAL_MEM'
 * model name:...................................'Driver_CruiseSpeedControl'
 * data set:.....................................'DRIVER_CRUISESPEEDCONTROL_AUTOMATIC_esdl_Data_Default'
 * ---------------------------------------------------------------------------*/
struct Driver_CruiseSpeedControl_Automatic_CAL_MEM_SUBSTRUCT Driver_CruiseSpeedControl_CAL_MEM = {
   /* struct element:'Driver_CruiseSpeedControl_CAL_MEM.AirFriction' (modeled as:'AirFriction.Driver_CruiseSpeedControl') */
   {
      6U,
      {
         0.0F, 30.0F, 60.0F, 90.0F, 120.0F, 150.0F
      },
      {
         0.0F, -0.1F, -0.2F, -0.4F, -0.8F, -1.6F
      }
   },
   /* struct element:'Driver_CruiseSpeedControl_CAL_MEM.BrakePedal' (modeled as:'BrakePedal.Driver_CruiseSpeedControl') */
   {
      6U,
      {
         0.0F, 1.0F, 2.0F, 3.0F, 4.0F, 5.0F
      },
      {
         0.0F, 40.0F, 60.0F, 80.0F, 100.0F, 100.0F
      }
   }
};
/* ----------------------------------------------------------------------------
 * END: DEFINITION OF SUBSTRUCT VARIABLE 'Driver_CruiseSpeedControl_CAL_MEM'
 ******************************************************************************/

/******************************************************************************
 * BEGIN: DEFINITION OF SUBSTRUCT VARIABLE 'Driver_CruiseSpeedControl_RAM'
 * ----------------------------------------------------------------------------
 * memory class:.................................'RAM'
 * model name:...................................'Driver_CruiseSpeedControl'
 * data set:.....................................'DRIVER_CRUISESPEEDCONTROL_AUTOMATIC_esdl_Data_Default'
 * ---------------------------------------------------------------------------*/
struct Driver_CruiseSpeedControl_Automatic_RAM_SUBSTRUCT Driver_CruiseSpeedControl_RAM = {
   /* struct element:'Driver_CruiseSpeedControl_RAM.brake' (modeled as:'brake.Driver_CruiseSpeedControl') */
   0.0F,
   /* struct element:'Driver_CruiseSpeedControl_RAM.power' (modeled as:'power.Driver_CruiseSpeedControl') */
   0.0F
};
/* ----------------------------------------------------------------------------
 * END: DEFINITION OF SUBSTRUCT VARIABLE 'Driver_CruiseSpeedControl_RAM'
 ******************************************************************************/

/******************************************************************************
 * DEFINITION OF COMPONENT VARIABLE OMITTED
 * ----------------------------------------------------------------------------
 * memory class:.................................'ROM'
 * model name:...................................'Driver_CruiseSpeedControl'
 * reason:.......................................no local elements
 * ---------------------------------------------------------------------------*/





#define AirFriction_REF (&(Driver_CruiseSpeedControl_CAL_MEM.AirFriction))
#define brake_VAL (Driver_CruiseSpeedControl_RAM.brake)
#define BrakePedal_REF (&(Driver_CruiseSpeedControl_CAL_MEM.BrakePedal))
#define power_VAL (Driver_CruiseSpeedControl_RAM.power)


/******************************************************************************
 * BEGIN: FUNCTIONS OF COMPONENT
 ******************************************************************************/


/******************************************************************************
 * BEGIN: DEFINITION OF METHOD 'Driver_CruiseSpeedControl_Automatic_calc'
 * ----------------------------------------------------------------------------
 * model name:...................................'calc'
 * memory class:.................................'CODE'
 * ---------------------------------------------------------------------------*/

void Driver_CruiseSpeedControl_Automatic_calc (
   /* IN    */ const float32 targetSpeed,
   /* IN    */ const float32 v
   )
{
   if (v < targetSpeed)
   {
      power_VAL = 100.0F;
      brake_VAL = 0.0F;
   }
   else
   {
      power_VAL = 0.0F;
      brake_VAL
         = DRIVER_CRUISESPEEDCONTROL_AUTOMATIC_CORRFAK * ESDL_Linear_CharTable1_getAt_r32r32((BrakePedal_REF)->xSize, (BrakePedal_REF)->xDist, (BrakePedal_REF)->values, ESDL_Linear_CharTable1_getAt_r32r32((AirFriction_REF)->xSize, (AirFriction_REF)->xDist, (AirFriction_REF)->values, v) + 2.5F);
   } /* end if */
}
/* ----------------------------------------------------------------------------
 * END: DEFINITION OF METHOD 'Driver_CruiseSpeedControl_Automatic_calc'
 ******************************************************************************/



/* ****************************************************************************
 * END: FUNCTIONS OF COMPONENT
 ******************************************************************************/



