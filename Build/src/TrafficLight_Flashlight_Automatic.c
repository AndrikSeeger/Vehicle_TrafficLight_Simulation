/******************************************************************************
 * DO NOT EDIT!
 * AUTOMATICALLY GENERATED BY:..ASCET-DEVELOPER V7.7.0
 * CODE GENERATOR:..............V7.7.0
 * COMPONENT:...................TrafficLight.Flashlight
 * REPRESENTATION:..............Automatic
 * DESCRIPTION:
 *    
 ******************************************************************************/


/*-----------------------------------------------------------------------------
 *    Defines
 *----------------------------------------------------------------------------*/

#define __ASD_REQUIRES_OS_INFACE

/*-----------------------------------------------------------------------------
 *    Include files
 *----------------------------------------------------------------------------*/

#include "TrafficLight_Flashlight_Automatic.h"
#include "resources_TrafficLightMessages_Automatic.h"


/******************************************************************************
 * BEGIN: DEFINITION OF SUBSTRUCT VARIABLE 'TrafficLight_Flashlight_RAM'
 * ----------------------------------------------------------------------------
 * memory class:.................................'RAM'
 * model name:...................................'TrafficLight_Flashlight'
 * data set:.....................................'TRAFFICLIGHT_FLASHLIGHT_AUTOMATIC_esdl_Data_Default'
 * ---------------------------------------------------------------------------*/
struct TrafficLight_Flashlight_Automatic_RAM_SUBSTRUCT TrafficLight_Flashlight_RAM = {
   /* substruct: TrafficLight_Flashlight_RAM.Rising_instance (modeled as:'Rising_instance.TrafficLight_Flashlight') */
   {
      /* struct element:'TrafficLight_Flashlight_RAM.Rising_instance.oldSignal' (modeled as:'oldSignal.Rising_instance.TrafficLight_Flashlight') */
      0.0F,
      /* struct element:'TrafficLight_Flashlight_RAM.Rising_instance.returnValue' (modeled as:'returnValue.Rising_instance.TrafficLight_Flashlight') */
      false
   },
   /* substruct: TrafficLight_Flashlight_RAM.Timer_instance (modeled as:'Timer_instance.TrafficLight_Flashlight') */
   {
      /* struct element:'TrafficLight_Flashlight_RAM.Timer_instance.timeCounter' (modeled as:'timeCounter.Timer_instance.TrafficLight_Flashlight') */
      0.0
   }
};
/* ----------------------------------------------------------------------------
 * END: DEFINITION OF SUBSTRUCT VARIABLE 'TrafficLight_Flashlight_RAM'
 ******************************************************************************/

/******************************************************************************
 * BEGIN: DEFINITION OF COMPONENT VARIABLE 'TrafficLight_Flashlight'
 * ----------------------------------------------------------------------------
 * memory class:.................................'ROM'
 * model name:...................................'TrafficLight_Flashlight'
 * data set:.....................................'TRAFFICLIGHT_FLASHLIGHT_AUTOMATIC_esdl_Data_Default'
 * ---------------------------------------------------------------------------*/
const struct TrafficLight_Flashlight_Automatic TrafficLight_Flashlight = {
   /* substruct: TrafficLight_Flashlight.Rising_instance (modeled as:'Rising_instance.TrafficLight_Flashlight') */
   {
      /* type descriptor pointer 'RisingEdge_Rising_Automatic_RAM' for memory class substruct for 'RAM' */
      &TrafficLight_Flashlight_RAM.Rising_instance
   },
   /* substruct: TrafficLight_Flashlight.Timer_instance (modeled as:'Timer_instance.TrafficLight_Flashlight') */
   {
      /* type descriptor pointer 'SystemLib_CounterTimer_Timer_Impl_RAM' for memory class substruct for 'RAM' */
      &TrafficLight_Flashlight_RAM.Timer_instance
   }
};
/* ----------------------------------------------------------------------------
 * END: DEFINITION OF COMPONENT VARIABLE 'TrafficLight_Flashlight'
 ******************************************************************************/





#define Rising_instance_REF (&(TrafficLight_Flashlight.Rising_instance))
#define Timer_instance_REF (&(TrafficLight_Flashlight.Timer_instance))


/******************************************************************************
 * BEGIN: FUNCTIONS OF COMPONENT
 ******************************************************************************/


/******************************************************************************
 * BEGIN: DEFINITION OF PROCESS 'TrafficLight_Flashlight_Automatic_calc'
 * ----------------------------------------------------------------------------
 * model name:...................................'calc'
 * memory class:.................................'CODE'
 * ---------------------------------------------------------------------------*/
/* messages used by this process */


void TrafficLight_Flashlight_Automatic_calc (void)
{
   /* define local message copies */
   boolean resources_TrafficLightMessages_flashLight__TrafficLight_Flashlight_Automatic_calc;
   float32 resources_TrafficLightMessages_proximity__TrafficLight_Flashlight_Automatic_calc;
   boolean resources_TrafficLightMessages_redLight__TrafficLight_Flashlight_Automatic_calc;
   /* receive messages implicitly */
   {
      DisableAllInterrupts();
      resources_TrafficLightMessages_flashLight__TrafficLight_Flashlight_Automatic_calc = resources_TrafficLightMessages_flashLight;
      resources_TrafficLightMessages_proximity__TrafficLight_Flashlight_Automatic_calc = resources_TrafficLightMessages_proximity;
      resources_TrafficLightMessages_redLight__TrafficLight_Flashlight_Automatic_calc = resources_TrafficLightMessages_redLight;
      EnableAllInterrupts();
   }
   SystemLib_CounterTimer_Timer_Impl_compute(Timer_instance_REF);
   if ((RisingEdge_Rising_Automatic_calc(Rising_instance_REF, resources_TrafficLightMessages_proximity__TrafficLight_Flashlight_Automatic_calc))
      && resources_TrafficLightMessages_redLight__TrafficLight_Flashlight_Automatic_calc)
   {
      SystemLib_CounterTimer_Timer_Impl_begin(Timer_instance_REF, 1.0);
   } /* end if */
   resources_TrafficLightMessages_flashLight__TrafficLight_Flashlight_Automatic_calc = SystemLib_CounterTimer_Timer_Impl_value(Timer_instance_REF);
   /* send messages implicitly */
   {
      resources_TrafficLightMessages_flashLight = resources_TrafficLightMessages_flashLight__TrafficLight_Flashlight_Automatic_calc;
   }
}
/* ----------------------------------------------------------------------------
 * END: DEFINITION OF PROCESS 'TrafficLight_Flashlight_Automatic_calc'
 ******************************************************************************/



/* ****************************************************************************
 * END: FUNCTIONS OF COMPONENT
 ******************************************************************************/



